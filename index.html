<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Ãlbum Especial ğŸ’–</title>
    <link rel="stylesheet" href="estilo.css">
</head>
<body>
   <div class="container">
    <h1>Para vocÃª, meu amor ğŸ’–</h1>
    <p>Cada foto aqui Ã© um pedacinho da minha alegria </p>

    <label class="upload-btn">
        Adicionar fotinhas ğŸ“¸
        <input type="file" id="uploadFotos" accept="image/*" multiple hidden>
    </label>

    <div class="galeria" id="galeria"></div>
</div>

<div id="coracoes-container"></div>


    <div id="coracoes-container"></div>

   <script>
        const uploadInput = document.getElementById('uploadFotos');
        const galeria = document.getElementById('galeria');
        const STORAGE_KEY = 'album_namorada';

        function carregarFotos() {
            galeria.innerHTML = '';
            const fotos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            fotos.forEach(src => adicionarFotoNaTela(src));
        }

        function salvarFoto(src) {
            const fotos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            fotos.push(src);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(fotos));
        }

       function removerFoto(src) {
            const confirmar = confirm('Tem certeza que deseja apagar essa foto? ğŸ’”');

            if (!confirmar) return;

            let fotos = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
            fotos = fotos.filter(f => f !== src);
            localStorage.setItem(STORAGE_KEY, JSON.stringify(fotos));
            carregarFotos();
        }


        function adicionarFotoNaTela(src) {
            const container = document.createElement('div');
            container.classList.add('foto-container');

            const img = document.createElement('img');
            img.src = src;
            img.classList.add('foto');

            const btn = document.createElement('button');
            btn.innerHTML = 'ğŸ—‘';
            btn.classList.add('btn-remover');
            btn.onclick = () => removerFoto(src);

            container.appendChild(img);
            container.appendChild(btn);
            galeria.appendChild(container);
        }

        uploadInput.addEventListener('change', function () {
            const arquivos = Array.from(this.files);

            arquivos.forEach(arquivo => {
                if (!arquivo.type.startsWith('image/')) return;

                const reader = new FileReader();
                reader.onload = e => {
                    const src = e.target.result;
                    salvarFoto(src);
                    adicionarFotoNaTela(src);
                };
                reader.readAsDataURL(arquivo);
            });

            criarCoracoes();
            this.value = '';
        });

        function criarCoracoes() {
            for (let i = 0; i < 15; i++) {
                const coracao = document.createElement('div');
                coracao.classList.add('coracao');
                coracao.style.left = Math.random() * 100 + 'vw';
                coracao.style.animationDuration = (3 + Math.random() * 2) + 's';

                document.getElementById('coracoes-container').appendChild(coracao);
                setTimeout(() => coracao.remove(), 5000);
            }
        }

        carregarFotos();
</script>

</body>
</html>
